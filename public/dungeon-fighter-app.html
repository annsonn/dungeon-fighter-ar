<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href="/bower_components/paper-slider/paper-slider.html">

<script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
<script src="https://rawgit.com/google-ar/three.ar.js/master/dist/three.ar.js"></script>
<script src="https://rawgit.com/chenzlabs/aframe-ar/master/dist/aframe-ar.js"></script>

<dom-module id="dungeon-fighter-app">
  <template>
    <style>
      #dice-controls {
        position: absolute;
        bottom: 0;
        right: 0;
      }
    </style>    

    <a-scene ar>
      <a-box width="0.1" height="0.1" depth="0.1" position="-0.25 0.125 -0.75" rotation="0 45 0" color="#EFEFEF" shadow></a-box>
      <a-cylinder position="0.25 0.0078 -0.75" radius="0.3" height="0.001" color="#FF0000" shadow></a-cylinder>
      <a-cylinder position="0.25 0.0076 -0.75" radius="0.6" height="0.001" color="#FFFFFF" shadow></a-cylinder>
      <a-cylinder position="0.25 0.0074 -0.75" radius="0.9" height="0.001" color="#FF0000" shadow></a-cylinder>
      <a-cylinder position="0.25 0.0072 -0.75" radius="1.2" height="0.001" color="#FFFFFF" shadow></a-cylinder>
      <a-cylinder position="0.25 0.0070 -0.75" radius="1.5" height="0.001" color="#FF0000" shadow></a-cylinder>
    </a-scene>
    
    <paper-slider id="dice-controls" value="{{diceVelocity}}"></paper-slider>
  </template>

  <script>
    class DungeonFighterApp extends Polymer.Element {
      static get is() { return 'dungeon-fighter-app'; }
      static get properties() {
        return {
         'diceVelocity': {
            type: Number,
            observer: '_diceVelocityChanged'
          } 
        }
      }
        
      _diceVelocityChanged(newValue, oldValue) {
        this._moveDice(newValue);
        this.diceVelocity = 100;          
      }

      _moveDice(velocity) {

      }
      
    }
    window.customElements.define(DungeonFighterApp.is, DungeonFighterApp);
  </script>
</dom-module>